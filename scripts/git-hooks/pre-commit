#!/bin/sh

if ! command -v golangci-lint >/dev/null 2>&1; then
  echo "Error: golangci-lint is not installed. Please install it before committing."
  exit 1
fi

golangci-lint run
EXIT_CODE=$?

if [ $EXIT_CODE -ne 0 ]; then
  echo "golangci-lint found issues. Please fix them before committing."
  exit 1
fi

exit 0

